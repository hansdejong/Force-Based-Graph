<!DOCTYPE html>
<html>
    <head>
	<title>FBG</title>
	 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <link rel="stylesheet" href="./webixcode/webix.css" type="text/css" charset="utf-8">
        <script src="./webixcode/webix.js" type="text/javascript" charset="utf-8"></script>
    </head>
    <body>
    Dit wil ik geleidelijk veranderen in een FBG-app-frontend:<br>
Een canvas, een aantal labels, knoppen en sliders. Zie de 
<a href="https://webix.com/tutorials/" target="_blank">Webix tutorials</a><br>
De canvascode is voorlopig die van de canvas-app van Li Haoyi.
Ik moet kunnen tekenen, slepen, de sliders uitlezen, schrijven naar een tekstvak, <br>
een kleur kiezen (dat kan al mooi met canvas) plus reageren op de knop acties. 

<!-- Ik zie geen canvas-view dus dan maar zo: -->
    <div id="FBG" style="width:750px; height:300px; margin:10px; border:1px solid #c0c0c0;">
      <canvas id="canvas">
      </canvas>
    </div>
    
    <div id="Tekstvakken" style="width:750px; height:80px; margin:10px; border:1px solid #c0c0c0;">
	<TEXTAREA  ID="tekstvak1" ROWS="4" COLS="50" style="resize:none"></TEXTAREA>
	<TEXTAREA  ID="tekstvak2" ROWS="4" COLS="25" READONLY>Niet veranderbaar</TEXTAREA>
	<TEXTAREA  ID="tekstvak3" ROWS="4" COLS="20" DISABLED>Disabled</TEXTAREA>
    </div>
    <div id="Controls" style="width:500px; height:200px; margin:10px;"></div>
    
    

        <script type="text/javascript" charset="utf-8"> //De webix-code ==========
        //place for your app
        //webix.ui() can be optionally placed into webix.ready() function 
        //to ensure that your code will be executed as soon as page loading is complete.
	webix.ready(function(){

		webix.ui({
		        width:750,
		        height:600,
			type:"line",
			container:"Controls",
	    		rows: [

//======= De kolommen met sliders =========================================================
            { cols:[ 
// template:"Kolom 1" }, 
{view:"form", id:"kol1", width: 250, elements:[
        { view:"text", text:"Knopen (random poging)", width:200, align:"center"},  
	{ view:"slider", id:"slider1", value:[10], width: 200, align:"left",
	title:function(obj){return obj.value;}, click: function(){webix.message("<pre>"+ this.getValue() +"</pre>");}}
//	title:function(obj){return obj.value;}, /*label:"Level B"*/}
]},

//{ template:"Column 2", width: 250},
{view:"form", id:"kol2", width: 250, elements:[
	{ view:"text",id:"test_tekst",  text:"Connecties (random poging)", width:200, align:"center"},  
        { view:"slider", id:"slider2", width: 200, align:"left",
	title:function(obj){return obj.value;} /*label:"Level B"*/}
]}, 

 //{ template:"Column 3"}
{view:"form", id:"kol3", width: 245, elements:[
        { view:"text", text:"Zoomfactor", width:200, align:"center"},  
        { view:"slider", id:"slider3", width: 200, align:"left",
	title:function(obj){return obj.value;}, /*label:"Level B"*/}
]}
]}//Einde klommen
,	
//======= De toolbar ================================================================
 { view:"toolbar", id:"mybar", elements:[
	{ view:"button", value:"Volgende", width: 70, click:"SCALA_volgende()"},
	    
	{ view:"button", value:"Kies kleur:", width: 80, click:function(){	    
			var json = JSON.stringify(this.getParentView().getValues(),0,1);
			var kleur = JSON.parse(json)["color"];
			SCALA_kies_kleur(kleur);
			webix.message("<pre>"+ kleur +"</pre>");        
		}
	},
	
	{ view:"colorpicker", name:"color", value:"#ffaadd", width:120 },

	{ view:"toggle", name:"toggle", id:"toggle", width: 85,offLabel:"Sleep", onLabel:"Wijzig", click:"ToonWaarden"},

        { view:"button", value:"Test waarden", width: 95, click:"ToonWaarden" }
	
]//einde toolbar-elementen array
}//Einde toolbarview
    			] //Einde rijen-array 
		});//Einde webix.ui
	}); //Einde webix.ready

//attachEvents(); //Eerst gewoon proberen metr change: ?
//======= De Hulpfuncties =======================================================

function ToonWaarden(){
	var json = JSON.stringify(this.getParentView().getValues(),0,1);
	webix.message("<pre>"+ json +"</pre>");        	
};
//function attachEvents(){
//toggle.attachEvent("onAfterLoad",function(){
//   SCALA_toggle( value );
//slider1.attachEvent("onAfterLoad",function(){
//   SCALA_toggle( value );
//toggle.attachEvent("onAfterLoad",function(){
//    SCALA_toggle( value );
//}
        </script>

<!-- ======== Tot hier de webix scripts. Nu de ScalaJS scripts ====== -->

<script type="text/javascript" src="target/scala-2.12/graph-fastopt.js"></script>
<script type="text/javascript" src="target/scala-2.12/classes/workbench.js"></script>
<script>
//    canvasapp.ScratchPad().main(document.getElementById('canvas'));
    StartGraph.main(document.getElementById('canvas'));
</script>
ToDo (aanpassen):
<ul>
	<li>sliders uitlezen
	<li>toggle uitlezen
	<li> (jQuery uit de sbt-dependencies)
	<li>Scala functie voor tekst schrijven in tekstvak<br>
		eventueel ook voor uitlezen
	<li>SCALA_kies_kleur naar camel-case
	<li>webix.message("String"); vanuit Scala? Denk het niet      
	
</ul>
    </body> 
</html>
