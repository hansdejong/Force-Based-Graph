<!DOCTYPE html>
<html>
    <head>
	<title>FBG</title>
	 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <link rel="stylesheet" href="./webixcode/webix.css" type="text/css" charset="utf-8">
        <script src="./webixcode/webix.js" type="text/javascript" charset="utf-8"></script>
    </head>
    <body>
    Dit wil ik geleidelijk veranderen in een FBG-app:<br>
Een canvas, een aantal labels, knoppen en sliders<br>
<a href="https://webix.com/tutorials/" target="_blank">Webix tutorials</a><br>
Nu eerst verder met de canvas-app van Li Haoyi, en eventueel ook deze canvas aanspreken.<br>
Ik moet kunnen tekenen, slepen, de sliders uitlezen, schrijven naar een tekstvak, een kleur kiezen (dat kan al mooi met canvas) plus reageren op de knop acties. 


<!-- Ik zie geen canvas-view dus dan maar zo: -->
    <div id="myDiv" style="width:750px; height:300px; margin:10px; border:1px solid #c0c0c0;">
      <canvas id="canvas">
      </canvas>
    </div>
    <div id="FBG" style="width:500px; height:300px; margin:10px;"></div>

        <script type="text/javascript" charset="utf-8">
        //place for your app
        //webix.ui() can be optionally placed into webix.ready() function 
        //to ensure that your code will be executed as soon as page loading is complete.
	webix.ready(function(){

		webix.ui({
		        width:750,
		        height:600,
			type:"line",
			container:"FBG",
	    		rows: [
//{ template:"Hier wil ik een canvas", height:250},
//{view:"canvas",  width: 300, height:200},
//{template: "<canvas id='mapCanvas' height=705px width=404px></canvas>"},
//Is er een soort canvas-view? Het vb. deed het binnen een view:template
//https://forum.webix.com/discussion/30264/adding-a-canvas-element-to-a-webix-ui-row
//{template: "<canvas id='canvas' />", height:300}, 

//{
//view: 'template',
//template: "<canvas id='canvas' height=705px width=404px></canvas>"
//},
//===============================================================================
    	    //{ template:"Row 2"}
            { cols:[ //2nd row
// template:"Kolom 1" }, 
{view:"form", id:"kol1", width: 250, elements:[
        { view:"text", placeholder:"Knopen (random poging)", width:200, align:"center"},  
	{ view:"slider", value:[10], width: 200, align:"left",
	title:function(obj){return obj.value;}, /*label:"Level B"*/}
]},

//{ template:"Column 2", width: 250},
{view:"form", id:"kol2", width: 250, elements:[
	{ view:"text",id:"test_tekst",  placeholder:"Connecties (random poging)", width:200, align:"center"},  
        { view:"slider", id:"sl2", width: 200, align:"left",
	title:function(obj){return obj.value;}, /*label:"Level B"*/}
]}, 

 //{ template:"Column 3"}
{view:"form", id:"kol3", width: 245, elements:[
        { view:"text", placeholder:"Zoomfactor", width:200, align:"center"},  
        { view:"slider", id:"sl3", width: 200, align:"left",
	title:function(obj){return obj.value;}, /*label:"Level B"*/}
]}
]},	
//===============================================================================
 { view:"toolbar", id:"mybar", elements:[
            { view:"button", value:"Volgende", width: 70, click:"SCALA_volgende()"},
//          { view:"button", value:"Kies kleur:", width: 80, click:"kies_kleur()" },
            { view:"button", value:"Kies kleur:", width: 80, click:function(){
				val tuple = this.getParentView().getvalues();
				msg(tuple);
			}
	    },
	   { view:"colorpicker", id:"picker", name:"color", value:"#ffaadd", width:120 },
//            { view:"toggle", offLabel:"Sleep", onLabel:"Wijzig", width: 70/* , height: 40 */, click:"update_row" },
	    { view:"toggle", name:"s3",  width: 85,offLabel:"Sleep", onLabel:"Wijzig" },
//            { view:"button", value:"Clear Form", width: 85, click:"toggle_mode(value)" }]
            { view:"button", value:"DoeIets", width: 85, click:"DoeIets" }]
//	    , { view:"button", value:"TestKnop", width: 85, click:"alert('Doe iets')" }]
    }
//,label:"Pick:"
            
    			]
		});
	});
<!-- ======== Voorbeeldcode ====== -->
			<script>
			webix.ui({ 
				container:"data",
				view:"form", scroll:false, elements:[
					{ view:"text", label:"Label", name:"label", value:"Some text" },

					{ view:"colorpicker", label:"Color", name:"color", value:"#ffaadd" },

					{ view:"button", type:"form", value:"Submit data", click:function(){
						webix.message("<pre>"+JSON.stringify(this.getParentView().getValues(),0,1)+"</pre>");
						}
					}
				], elementsConfig:{
					labelAlign:"center"
				}
			});
		</script>
<!-- ======== Voorbeeldcode ====== -->
//https://stackoverflow.com/questions/20392782/a-list-of-tuples-in-javascript
var nameAndAgeList = incomingList.map(function(item) {
  return {
    name: item.name,
    age: item.age
  };
});

<!-- ======== Mijn functiess ====== -->
function kies_kleur(){
	var kleur = document.getElementById("picker");
	//.value;
	//alert("De alert doet het"); //er weer uit	
	document.write("De kleurkiezer wordt bereikt "+ kleur); //er weer uit	
//	alert(kleur); //er weer uit	
//	SCALA_kies_kleur(kleur);


//Resultaat: De kleurkiezer wordt bereikt null
};
//Attach a form-setting function to an "onAfterSelect" list event and pass item ID to it
//$$("mylist").attachEvent("onAfterSelect", function(id){
//    $$("myform").setValues({
//        title: $$("mylist").getItem(id).title,
//        year: $$("mylist").getItem(id).year 
//    });
//});

function msg( txt ){
	document.getElementById("test").innerHTML = txt;
};


<!-- ======== Niet meer gebruikt. Hoogstens als voorbeeld ====== -->
function add_row(){

	$$("mylist").add({
		title: $$("myform").getValues().title,
		year: $$("myform").getValues().year,
	})
};
function delete_row(){
   var id = $$("mylist").getSelectedId(); //returns the ID of selected item
   // $$("mylist").remove(id);
    webix.confirm({
        title: "Delete",
        text: "Are you sure you want to delete the selected contact?",
        callback: function(result) { 
            if (result) {
                $$("mylist").remove(id);
            } 
        }
	})
};
function update_row(){
	    var sel = $$("mylist").getSelectedId();
    if(!sel) return;
 
    var value1 = $$('myform').getValues().title;
    var value2 = $$('myform').getValues().year;
 
 
    var item = $$("mylist").getItem(sel); //selected item object
    item.title = value1;
    item.year = value2;
    $$("mylist").updateItem(sel, item);
};

        </script>

<!-- ======== Tot hier de webix scripts. Nu de ScalaJS scripts ====== -->

<script type="text/javascript" src="target/scala-2.12/graph-fastopt.js"></script>
<script type="text/javascript" src="target/scala-2.12/classes/workbench.js"></script>
<script>
//    canvasapp.ScratchPad().main(document.getElementById('canvas'));
    //graph.opstart.StartGraph.main(document.getElementById('canvas')); //Dit werkt
    StartGraph.main(document.getElementById('canvas')); //Dit doet het ook!
</script>
<div id="test"></div>
    </body> 
</html>
